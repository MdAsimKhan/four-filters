function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=n.parcelRequire0063;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){o[e]=n},n.parcelRequire0063=a),a("27Lyk").register(JSON.parse('{"6aVt1":"moustache.7b0471ba.js","1YdiR":"worker.7eb94a02.js","e0xw1":"zappar-cv.315eebda.wasm","eYcMP":"face_mesh_face_model.9f3b859a.zbin","e6ghN":"face_mesh_full_head_simplified_model.caf9de0a.zbin","ih7P4":"face_tracking_model.624095d1.zbin","9gvkQ":"videorecorder.fd59f5ae.wasm","b1Asn":"recorder-worker.3efeeee9.js","5XM7p":"mustache.d00069b7.glb","hp2O3":"index.3e9ba42a.css","lnVYh":"index.b770c609.js","hnTo6":"one.c348fd92.js","d5ceo":"one.3d4d8c64.js"}'));var r=a("ilwiq"),d=a("2dyhB"),i=a("7lx9d"),c=a("fuYhq"),s=a("dlmvV");if(d.browserIncompatible())throw d.browserIncompatibleUI(),new Error("Unsupported browser");const l=new d.LoadingManager,u=new r.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0}),m=new r.Scene;document.body.appendChild(u.domElement),u.setSize(window.innerWidth,window.innerHeight),window.addEventListener("resize",(()=>{u.setSize(window.innerWidth,window.innerHeight)}));const f=new d.Camera;d.permissionRequestUI().then((e=>{e?f.start(!0):d.permissionDeniedUI()})),d.glContextSet(u.getContext()),m.background=f.backgroundTexture;const w=new d.FaceTrackerLoader(l).load(),p=new d.FaceAnchorGroup(f,w);m.add(p),p.visible=!1;const _=(new d.HeadMaskMeshLoader).load();p.add(_);var b;b=new URL(a("27Lyk").resolve("5XM7p"),import.meta.url).toString();const h=new URL(b).href;new(0,i.GLTFLoader)(l).load(h,(e=>{e.scene.position.set(0,-.22,1),e.scene.scale.set(.25,.25,.25),e.scene.rotation.set(0,Math.PI,0),console.log(e.scene),p.add(e.scene)}),void 0,(()=>{console.log("An error ocurred loading the GLTF model")}));const g=new r.DirectionalLight("white",.8);g.position.set(0,5,0),g.lookAt(0,0,0),m.add(g);const v=new r.AmbientLight("white",.4);m.add(v),p.faceTracker.onVisible.bind((()=>{p.visible=!0})),p.faceTracker.onNotVisible.bind((()=>{p.visible=!1}));(document.getElementById("snapshot")||document.createElement("div")).addEventListener("click",(()=>{const n=(document.querySelector("canvas")||document.createElement("canvas")).toDataURL("image/jpeg",.8);e(c)({data:n})}));const E=document.getElementById("videocapture")||document.createElement("div"),H=document.getElementById("stopcapture")||document.createElement("div"),R=document.querySelector("canvas")||document.createElement("canvas");s.createCanvasVideoRecorder(R,{}).then((n=>{E.addEventListener("click",(()=>{n.start()})),H.addEventListener("click",(()=>{n.stop()})),n.onComplete.bind((async n=>{e(c)({data:await n.asDataURL()})}))})),function e(){f.updateFrame(u),_.updateFromFaceAnchorGroup(p),u.render(m,f),requestAnimationFrame(e)}();
//# sourceMappingURL=moustache.7b0471ba.js.map
