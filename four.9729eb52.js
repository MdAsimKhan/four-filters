function e(e,n,t,r){Object.defineProperty(e,n,{get:t,set:r,enumerable:!0,configurable:!0})}function n(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},o={},a=t.parcelRequire0063;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in o){var n=o[e];delete o[e];var t={id:e,exports:{}};return r[e]=t,n.call(t.exports,t,t.exports),t.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){o[e]=n},t.parcelRequire0063=a),a.register("27Lyk",(function(n,t){var r,o;e(n.exports,"register",(()=>r),(e=>r=e)),e(n.exports,"resolve",(()=>o),(e=>o=e));var a={};r=function(e){for(var n=Object.keys(e),t=0;t<n.length;t++)a[n[t]]=e[n[t]]},o=function(e){var n=a[e];if(null==n)throw new Error("Could not resolve bundle with id "+e);return n}})),a("27Lyk").register(JSON.parse('{"juhji":"four.9729eb52.js","1YdiR":"worker.7eb94a02.js","e0xw1":"zappar-cv.315eebda.wasm","eYcMP":"face_mesh_face_model.9f3b859a.zbin","e6ghN":"face_mesh_full_head_simplified_model.caf9de0a.zbin","ih7P4":"face_tracking_model.624095d1.zbin","9gvkQ":"videorecorder.fd59f5ae.wasm","b1Asn":"recorder-worker.e7190aa3.js","ljGNR":"astronaut_helmet.1cd5bc3c.glb","hp2O3":"index.3e9ba42a.css","6GlBA":"index.c7c7a8b8.js","aeMeN":"one.4026c946.js","8KnAb":"one.38d1601d.js"}'));var i=a("ilwiq"),d=a("2dyhB"),c=a("7lx9d"),s=a("fuYhq"),l=a("dlmvV");if(d.browserIncompatible())throw d.browserIncompatibleUI(),new Error("Unsupported browser");const u=new d.LoadingManager,f=new i.WebGLRenderer({antialias:!0,preserveDrawingBuffer:!0}),m=new i.Scene;document.body.appendChild(f.domElement),f.setSize(window.innerWidth,window.innerHeight),window.addEventListener("resize",(()=>{f.setSize(window.innerWidth,window.innerHeight)}));const w=new d.Camera;d.permissionRequestUI().then((e=>{e?w.start(!0):d.permissionDeniedUI()})),d.glContextSet(f.getContext()),m.background=w.backgroundTexture;const b=new d.FaceTrackerLoader(u).load(),p=new d.FaceAnchorGroup(w,b);m.add(p),p.visible=!1;const _=(new d.HeadMaskMeshLoader).load();p.add(_);var g;g=new URL(a("27Lyk").resolve("ljGNR"),import.meta.url).toString();const v=new URL(g).href;new(0,c.GLTFLoader)(u).load(v,(e=>{e.scene.position.set(0,-1,-.35),e.scene.scale.set(.06,.06,.1),console.log(e.scene),p.add(e.scene)}),void 0,(()=>{console.log("An error ocurred loading the GLTF model")}));const h=new i.DirectionalLight("white",.8);h.position.set(0,5,0),h.lookAt(0,0,0),m.add(h);const E=new i.AmbientLight("white",.4);m.add(E),p.faceTracker.onVisible.bind((()=>{p.visible=!0})),p.faceTracker.onNotVisible.bind((()=>{p.visible=!1}));(document.getElementById("snapshot")||document.createElement("div")).addEventListener("click",(()=>{const e=(document.querySelector("canvas")||document.createElement("canvas")).toDataURL("image/jpeg",.8);n(s)({data:e})}));const H=document.getElementById("videocapture")||document.createElement("div"),R=document.getElementById("stopcapture")||document.createElement("div"),A=document.querySelector("canvas")||document.createElement("canvas");l.createCanvasVideoRecorder(A,{}).then((e=>{H.addEventListener("click",(()=>{e.start()})),R.addEventListener("click",(()=>{e.stop()})),e.onComplete.bind((async e=>{n(s)({data:await e.asDataURL()})}))})),function e(){w.updateFrame(f),_.updateFromFaceAnchorGroup(p),f.render(m,w),requestAnimationFrame(e)}();
//# sourceMappingURL=four.9729eb52.js.map
